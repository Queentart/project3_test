{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 이미지 생성기</title>
    
    {# 파비콘 추가: static/images/favicon.ico 파일이 존재해야 합니다. #}
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="container mt-5 p-4 border rounded shadow">
        <h1 class="text-center mb-4">AI 이미지 생성기</h1>

        <form id="imageGenerationForm">
            {# 이미지를 업로드 하는 부분 - 제일 위로 이동 #}
            <div class="mb-3">
                <label for="fileInput" class="form-label">참조 이미지 (선택 사항):</label>
                <div id="dropArea" class="form-control">
                    <p id="dropAreaText">이미지를 여기에 드래그하거나 클릭하여 업로드</p>
                    <i id="uploadIcon" class="bi bi-cloud-arrow-up"></i> {# 아이콘 추가, 스타일은 CSS로 이동 #}
                    <div id="imagePreviewWrapper"> {# 인라인 스타일 제거됨 #}
                        <img id="selectedImagePreview" src="#" alt="Image Preview">
                        <button type="button" id="clearImageButton" class="btn-close" aria-label="Clear image"></button> {# 인라인 스타일 제거됨 #}
                    </div>
                    <input type="file" id="fileInput" name="input_image" accept="image/*">
                </div>
            </div>

            {# 긍정 프롬프트 입력 부분 #}
            <div class="mb-3">
                <label for="promptInput" class="form-label">긍정 프롬프트:</label>
                <textarea class="form-control" id="promptInput" name="prompt" rows="3" placeholder="생성하고 싶은 이미지에 대한 자세한 설명을 입력하세요."></textarea>
            </div>

            {# 부정 프롬프트 입력 부분 #}
            <div class="mb-3">
                <label for="negativePromptInput" class="form-label">부정 프롬프트:</label>
                <textarea class="form-control" id="negativePromptInput" name="negative_prompt" rows="3" placeholder="이미지에 포함되지 않아야 할 요소를 입력하세요. (선택 사항)"></textarea>
            </div>

            <button type="button" id="generateButton" class="btn btn-primary w-100">이미지 생성</button>
        </form>

        <div id="loadingSpinner" class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p id="statusMessage" class="text-center mt-3"></p>

        <div id="imageResultContainer" class="mt-4">
            <h2 class="text-center mb-3">생성된 이미지:</h2>
            <div id="imageResults">
                </div>
            <a href="#" id="downloadButton" class="btn btn-success d-block mx-auto mt-3">이미지 다운로드</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>